@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

@{
    string userName = HttpContextAccessor.HttpContext.Session.GetString("Username");
    string companyName = HttpContextAccessor.HttpContext.Session.GetString("CompanyName");
    string yearName = HttpContextAccessor.HttpContext.Session.GetString("YearName");
    int companyId = HttpContextAccessor.HttpContext.Session.GetInt32("CompanyId").Value;
    int clientId = HttpContextAccessor.HttpContext.Session.GetInt32("ClientId").Value;
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- plugins:css -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="/Template/plugins/fontawesome-free/css/all.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    @*<link href="~/Template/plugins/select2/css/select2.css" rel="stylesheet" />*@
    <!-- Tempusdominus Bootstrap 4 -->
    <link rel="stylesheet" href="/Template/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">

    <link href="~/css/bootstrap-datetimepicker-standalone.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css" />
    <!-- iCheck -->
    <link rel="stylesheet" href="/Template/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
    <!-- JQVMap -->
    <link rel="stylesheet" href="/Template/plugins/jqvmap/jqvmap.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="/Template/dist/css/adminlte.min.css">
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="/Template/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">

    <!-- summernote -->
    <link rel="stylesheet" href="/Template/plugins/summernote/summernote-bs4.min.css">
    <link rel="stylesheet" href="/Template/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="/Template/plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.3.4/css/select.dataTables.min.css">



    <link href="~/css/simplePagination.css" rel="stylesheet" />
    <link href="/css/loader.css" rel="stylesheet" media="screen, print">
    <link href="/css/custom.css" rel="stylesheet" media="screen, print">
    <link href="~/css/chosen.css" rel="stylesheet" />

    <link href="~/jquery-ui-1.13.2/jquery-ui.css" rel="stylesheet" />

    <style>

        label {
            font-size: 13px !important;
            font-family: "Roboto", Helvetica Neue, Helvetica, Arial, sans-serif;
        }

        input.form-control,
        .select2-selection--single {
            font-size: 17px !important;
            height: 33px !important
        }

        .select2-selection__rendered {
            font-size: 17px !important;
        }

        .customDivision table tbody tr:hover {
            background-color: #dcdada;
        }

        .customDivision {
            width: 100%;
            margin-top: 10px !important
        }

        .required {
            color: red;
        }

        .fontCustom {
            font-size: 18px
        }

        .dynamicDataTable tr td,
        .dynamicDataTable tr th {
            padding: .20rem !important;
            font-size: 13px !important;
            font-family: "Roboto", Helvetica Neue, Helvetica, Arial, sans-serif;
        }

        .dynamicDataTableTransactionGridForm tr td,
        .dynamicDataTableTransactionGridForm tr th {
            padding: .20rem !important
        }

        .dynamicDataTableTransactionGridForm tr td,
        .dynamicDataTableTransactionGridForm tr th {
            padding: .20rem !important
        }

        .custom-table tr td,
        .custom-table tr th {
            padding: .20rem !important;
            border: 1px solid #dee2e6
        }

        .custom-table {
            display: block;
            overflow-x: auto;
            white-space: nowrap;
        }

            .custom-table tbody {
                display: table;
                /*width: 100%;*/
            }

        /*.focusIn,*/
        /* .select2-container--focus .select2-selection--single {
            background-color: #FAFA33 !important;
            font-size: medium !important;
            color: black !important
        }*/

        .custommt-4-5 {
            margin-top: 1.9rem !important
        }

        .img_wrp {
            display: inline-block;
            position: relative;
        }

        .closess {
            position: absolute;
            top: 5px;
            right: 8px;
            border: 1px solid black;
            padding: 6px;
            border-radius: 50%;
            cursor: pointer
        }

        .gridViewTableResponsive,
        .gridViewTableResponsiveTransactionGridForm {
            max-height: 400px
        }

        .transactionGridTd {
            cursor: pointer !important;
        }

        .gridViewTableResponsiveTransactionGridForm thead {
            position: sticky;
            top: 0;
            z-index: 10;
            background-color: #fff;
        }

        .gridViewTableResponsiveTransactionGridForm tbody tr.totalRow {
            position: sticky;
            bottom: 0;
            z-index: 10;
            background-color: #fff;
        }
    </style>
    <title>@ViewBag.Title</title>
    <script src="/Template/plugins/jquery/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.8/js/select2.min.js" defer></script>
    @*<script src="~/Template/plugins/select2/js/select2.full.min.js"></script>*@
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="~/js/jquery.keyboard-shortcuts.js"></script>
    <script src="~/js/jquery-shortcut.js"></script>
    <script src="~/js/pager.js"></script>

    @{
        string messageType = string.Empty;
        string message = string.Empty;
        if (TempData != null && TempData.Count > 0 && TempData["TempMessage"] != null && TempData["TempMessageType"] != null)
        {
            messageType = TempData["TempMessageType"].ToString();
            message = TempData["TempMessage"].ToString();
        }
    }
    <script>
        var message = '@message';
        var messageType = '@messageType';

        const Toast = Swal.mixin({
            toast: true,
            position: 'top-end',
            showConfirmButton: false,
            timer: 3000,
            timerProgressBar: true,
            didOpen: (toast) => {
                toast.addEventListener('mouseenter', Swal.stopTimer)
                toast.addEventListener('mouseleave', Swal.resumeTimer)
            }
        })

        $(document).ready(function () {
            //SetSelect2()
            if (message != '' && messageType != '') {
                Toast.fire({
                    icon: messageType,
                    title: message
                })
            }


        })


        function SetFocus(obj) {
            $(obj).addClass('focusIn')
        }


        function numberWithDecimal(e) {
            e.target.value = e.target.value.replace(/[^\.0-9]/g, "");

            if ((event.which == 107 || event.which == 109 || event.which == 111 || event.which != 46 || e.target.indexOf('.') != -1) && (event.which < 48 || event.which > 57)) {
                event.preventDefault();
            }
        }
        function showSuccessMessage(message) {
            Toast.fire({
                icon: 'success',
                title: message
            })
        }

        function showErrorMessage(message) {
            Toast.fire({
                icon: 'error',
                title: message
            })
        }

        $(document).on('select2:open', () => {
            document.querySelector('.select2-search__field').focus();
        });

    </script>
</head>
<body class="hold-transition sidebar-mini sidebar-collapse layout-fixed" style="height:auto;">
    <div class="wrapper">

        <!-- Preloader -->
        @*<div class="preloader flex-column justify-content-center align-items-center">
                <img class="animation__shake" src="/Template/dist/img/AdminLTELogo.png" alt="AdminLTELogo" height="60" width="60">
            </div>*@

        <div id="load_screen" style="display:none">
            <div class="loader-grey-background"></div>
            <div class="loading-container">
                <div class="bars-one">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <p class="neptune-loader-heading">Neptune</p>
        </div>

        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-white navbar-light" style="background-color: #007bff">
            <!-- Left navbar links -->
            <ul class="w-100 navbar-nav">
                <li class="nav-item" style="color:white">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars" style="color:white"></i></a>
                </li>
                <li class="nav-item d-none d-sm-inline-block">
                    <a class="nav-link" style="color:white;cursor:pointer" href="/Login/Company?companyId=@companyId&yearId=0&client=&isFromDashboard=true"><b> Company  : @companyName</b></a>
                </li>
                <li class="nav-item d-none d-sm-inline-block ml-4">
                    <a class="nav-link" style="color:white" href="javascript:void(0)"><b> Year : @yearName</b></a>
                </li>
                <li class="nav-item d-none d-sm-inline-block ml-auto">
                    <a href="#" onclick="onLogOut()" class="nav-link">
                        <img src="/Template/dist/img/Logout.png" alt="Logout" class="brand-image img-circle elevation-3" style="opacity: .8;height: 35px;">
                    </a>
                </li>
            </ul>

            <!-- Right navbar links -->
        </nav>
        <nav class="second-header" id="sideNav" style="background-color:antiquewhite">
            <ul class="navbar-nav">
            </ul>

        </nav>

        <!-- /.navbar -->
        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4">
            <!-- Brand Logo -->
            <a href="index3.html" class="brand-link">
                <img src="/Template/dist/img/AdminLTELogo.png" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity:.8">
                <span class="brand-text font-weight-light" style="font-family:Nina;font-size:medium">Account</span>
            </a>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Sidebar user panel (optional) -->
                <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                    <div class="image">
                        <img src="/Template/dist/img/user2-160x160.jpg" class="img-circle elevation-2" alt="User Image">
                    </div>
                    <div class="info">
                        <a href="#" class="d-block" style="font-family:Nina;font-size:medium">@userName</a>
                    </div>
                </div>

                <!-- SidebarSearch Form -->
                <div class="form-inline" id="showSearchedResultSidebar">
                    <div class="input-group">
                        <input class="form-control form-control-sidebar" id="txtSearchSidebar" placeholder="Search (Alt+M)" style="font-family:Nina;font-size:medium">
                        <div class="input-group-append">
                            <button class="btn btn-sidebar">
                                <i class="fas fa-search fa-fw" style="font-family:Nina;font-size:medium"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Sidebar Menu -->
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false" id="userSidebar" style="font-family:Nina;font-size:medium">
                        <!-- Add icons to the links using the .nav-icon class
                        with font-awesome or any other icon font library -->
                        @*<li class="nav-item">
                                                <a href="/dashboard/index" class="nav-link">
                                                    <i class="nav-icon fas fa-tachometer-alt"></i>
                                                    <p>
                                                        Dashboard
                                                    </p>
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                <a href="#" class="nav-link">
                                    <i class="nav-icon fas fa-list-alt"></i>
                                    <p>
                                        Transaction
                                        <i class="right fas fa-angle-left"></i>
                                    </p>
                                </a>
                                <ul class="nav nav-treeview">
                                    <li class="nav-item">
                                        <a href="/BiltyTransaction/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Bilty Entry</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Memo Entry</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Invoice Entry</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Receipt Entry</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Payment Entry</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Journal Entry</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">
                                    <i class="nav-icon fas fa-list-alt"></i>
                                    <p>
                                        Master
                                        <i class="right fas fa-angle-left"></i>
                                    </p>
                                </a>
                                <ul class="nav nav-treeview">
                                    <li class="nav-item">
                                        <a href="/AccountMaster/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Account Master</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/AccountGroup/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Account Group</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/AccountOpening/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Account Opening</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/Product/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Product Master</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/Driver/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Driver Master</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/TrnasportAgency/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Transport Agency</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/City/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>City Master</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/Department/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Department Master</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/TaxMaster/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Tax Master</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/VehicleMaster/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Vehicle Master</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/VoucherType/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Voucher Type</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">
                                    <i class="nav-icon fas fa-list-alt"></i>
                                    <p>
                                        Reports
                                        <i class="right fas fa-angle-left"></i>
                                    </p>
                                </a>
                                <ul class="nav nav-treeview">
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Bilty Register</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Memo Register</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Invoice Register</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Trail Balance</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Trading Account</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Balance Sheet</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Account Receivable</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">
                                    <i class="nav-icon fas fa-list-alt"></i>
                                    <p>
                                        Tools
                                        <i class="right fas fa-angle-left"></i>
                                    </p>
                                </a>
                                <ul class="nav nav-treeview">
                                    <li class="nav-item">
                                        <a href="/CompanyMaster/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Company Master</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>User Master</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>User Right</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/GridMaster/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Grid Master</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">
                                    <i class="nav-icon fas fa-list-alt"></i>
                                    <p>
                                        Utility
                                        <i class="right fas fa-angle-left"></i>
                                    </p>
                                </a>
                                <ul class="nav nav-treeview">
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>General Ledger</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Backup Database</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>New Year Process</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/View/index" class="nav-link">
                                            <i class="far fa-circle nav-icon"></i>
                                            <p>Reposting</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="#" onclick="onLogOut()" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Logout</p>
                                </a>
                            </li>*@


                    </ul>
                </nav>
                <!-- /.sidebar-menu -->
            </div>
            <!-- /.sidebar -->
        </aside>

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper" style="min-height: 595.438px;background-color:antiquewhite">
            <div class="content-header">
                <div class="col-md-12 cardBodyContent">
                    @RenderBody()
                </div>
            </div>
        </div>
        <!-- /.content-wrapper -->
        @*<footer class="main-footer">
                <strong>Copyright &copy; 2014-2021 <a href="https://adminlte.io">AdminLTE.io</a>.</strong>
                All rights reserved.
                <div class="float-right d-none d-sm-inline-block">
                    <b>Version</b> 3.2.0
                </div>
            </footer>*@

        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
            <!-- Control sidebar content goes here -->
        </aside>
        <!-- /.control-sidebar -->
    </div>
    <!-- ./wrapper -->
    <!-- jQuery -->
    <!-- jQuery UI 1.11.4 -->
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css">


    @*<script>
        $.widget.bridge('uibutton', $.ui.button)
    </script>*@

    <!-- Bootstrap 4
    -->
    <script src="~/jquery-ui-1.13.2/jquery-ui.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js">
    </script>
    <script src="/Template/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- ChartJS -->
    <script src="/Template/plugins/chart.js/Chart.min.js"></script>
    <!-- Sparkline -->
    <script src="/Template/plugins/sparklines/sparkline.js"></script>
    <!-- JQVMap -->
    <script src="/Template/plugins/jqvmap/jquery.vmap.min.js"></script>
    <script src="/Template/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
    <!-- jQuery Knob Chart -->
    <script src="/Template/plugins/jquery-knob/jquery.knob.min.js"></script>
    <!-- Summernote -->
    <script src="/Template/plugins/summernote/summernote-bs4.min.js"></script>
    <!-- overlayScrollbars -->
    <script src="/Template/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <!-- AdminLTE App -->
    <script src="/Template/dist/js/adminlte.js"></script>

    <script src="/Template/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="/Template/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="/Template/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js">
    </script>
    @*<script src="~/js/jquery.datatables.min.js"></script>*@

    <script src="~/js/chosen.jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/select/1.3.4/js/dataTables.select.min.js"></script><!-- Replace 'YOUR_API_KEY' with your actual API key -->
    <script src="https://cdn.jsdelivr.net/gh/linways/table-to-excel@v1.0.4/dist/tableToExcel.js"></script>

    @RenderSection("Scripts", false);
    <script type="text/javascript">
        (function (code) {
            code(window.jQuery, document, window);
        }(function ($, document, window) {
            $(function () {
                $(window)
                    .initKeyboard({ debug: 1 })
                    .on('Alt+O', function () {
                        onLogOut();
                    }).on('Alt+M', function () {
                        $('body').removeClass('sidebar-collapse')
                        $('#txtSearchSidebar').focus();
                    });
            });
        }));

        function onLogOut() {
            Swal.fire({
                title: 'Alert?',
                text: "Are you sure want to logout ?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes'
            }).then((result) => {
                if (result.isConfirmed) {
                    window.location.href = '@Url.Action("LogOut","Login")';
                }
            });
        }

        $('.numberonly').keypress(function (e) {
            var charCode = (e.which) ? e.which : event.keyCode
            if (String.fromCharCode(charCode).match(/[^0-9]/g))
                return false;
        });

        function showLoader() {
            $('#load_screen').show();
        }

        function hideLoader() {
            $('#load_screen').hide();
        }

        $(document)
            .ajaxStart(function () {
                if (window.location.pathname.toLowerCase() != '/whatsapp' && window.location.pathname.toLowerCase() != '/whatsapp/index') {
                    showLoader();
                }
            })
            .ajaxStop(function () {
                if (window.location.pathname.toLowerCase() != '/whatsapp' && window.location.pathname.toLowerCase() != '/whatsapp/index') {
                    hideLoader();
                }
            });

    </script>
    <script>


        $(document).ready(function () {
            setTimeout(function () {
                $(".second-header").overlayScrollbars({
                    className: "os-theme-dark",
                });
            }, 1000);
            $('#txtSearchSidebar').keyup(function () {
                $('#showSearchedResultSidebar').children('.sidebar-search-results').remove();
                var value = $(this).val().toString().toLowerCase();

                if (value != null && value != '' && value != undefined && value.toString().length >= 3) {
                    var sidebar = [];

                    sidebar.push($('#userSidebar').children().find('.navCustomItem'));
                    sidebar.push($('#userSidebar').children('.navCustomItem'))

                    var html = '<div class="sidebar-search-results"><div class="list-group">';

                    for (var x = 0; x < sidebar.length; x++) {
                        for (var y = 0; y < sidebar[x].length; y++) {
                            if ($(sidebar[x][y]).children('a').attr('href').toString().toLowerCase().replace(/\//g, " ").indexOf(value) >= 0 || $(sidebar[x][y]).children().find('p').html().toString().toLowerCase().indexOf(value) >= 0) {
                                var masterPath = $(sidebar[x][y]).parent().prev('a').children('p').text().trim();

                                html += `<a href="` + $(sidebar[x][y]).children('a').attr('href') + `" class="list-group-item">
                                                                                                                                                        <div class="search-title">`+ $(sidebar[x][y]).children().find('p').html() + `</div>
                                                                                                                                                        <div class="search-path">` + masterPath + `</div>
                                                                                                                                                    </a>`;
                            }
                        }
                    }

                    html += `</div></div>`;
                    $('#showSearchedResultSidebar').append(html);
                    $('#showSearchedResultSidebar').addClass('sidebar-search-open');
                }
                else {
                    $('#showSearchedResultSidebar').removeClass('sidebar-search-open');
                }
            })
        })
    </script>
    <script>
        $(function () {
                $.ajax({
                    url: '@Url.Action("GetSidebar", "Module")',
                    type: 'POST',
                    dataType: 'json',
                    data: {},
                    success: function (data) {
                        if (data.result) {
                            var module = data.data;
                            if (module != null && module.length != '' && module.length > 0) {
                                var html = '';
                                for (var x = 0; x < module.length; x++) {
                                    var link = '';
                                    var cls = "";
                                    if (module[x].link != "" && module[x].link != undefined) {
                                        link = module[x].link;
                                        cls = "navCustomItem";
                                    }
                                    else {
                                        link = `#`;
                                        cls = "";
                                    }

                                    html += `<li class="nav-item ml-1 ` + cls + `">
                                                <a href="`+ link + `" class="nav-link">
                                                    <i class="`+ module[x].icons + `"></i>
                                                    <p>`+ module[x].moduleName + ``;

                                    if (module[x].sidebarDetail != null && module[x].sidebarDetail != '' && module[x].sidebarDetail != undefined) {
                                        html += `<i class="fas fa-angle-left right"></i>`;
                                    }

                                    html += `</p></a>`;

                                    if (module[x].sidebarDetail != null && module[x].sidebarDetail != '' && module[x].sidebarDetail != undefined) {
                                        html += ` <ul class="nav nav-treeview">`;
                                        for (var j = 0; j < module[x].sidebarDetail.length; j++) {
                                            html += `<li class="nav-item navCustomItem">
                                                        <a href="`+ module[x].sidebarDetail[j].link +`" class="nav-link">
                                                            <i class="`+ module[x].sidebarDetail[j].icons +`"></i>
                                                            <p>`+ module[x].sidebarDetail[j].moduleName +`</p>
                                                        </a>
                                                    </li>`;
                                        }


                                        html += `</ul></li>`;
                                    }
                                }
                                html += `<li class="nav-item">
            <a href="#" onclick="onLogOut()" class="nav-link">
                <i class="far fa-circle nav-icon"></i>
                <p>Logout</p>
            </a>
        </li>`;
                                $('#userSidebar').append(html);

                                var path = window.location.pathname;

                                $("ul.nav-sidebar a").each(function () {
                                    var href = $(this).attr('href');
                                    if (href != '#' && href != undefined) {
                                        if (path === href || path.substring(0, href.length) === href) {
                                            $(this).addClass('active').closest(".nav-treeview").parent('li').addClass('menu-open');
                                        }
                                    }
                                });
                            }
                        }
                        else {
                            errorMessage(data.message);
                        }
                    },
                    failure: function (response) {
                        errorMessage(response);
                    }
                });
            });

        $('.uppercaseWithoutSpace').keypress(function (e) {
            var charCode = (e.which) ? e.which : event.keyCode
            if (charCode == 32 || String.fromCharCode(charCode).match(/[^A-z0-9]/g))
                return false;
        });

        $('.uppercaseWithoutSpace').keyup(function (e) {
            this.value = this.value.toLocaleUpperCase()
        });
    </script>
    <script>
        $(function () {
            //var url = window.location.href;
            $('#sideNav').children('ul').children('li').remove();
            //if (url.toString().includes("dashboard")) {
            $.ajax({
                url: '/Dashboard/Buttons',
                type: 'POST',
                dataType: 'json',
                success: function (data) {
                    var html = ``;
                    if (data.data != null && data.data.length > 0) {
                        for (var x = 0; x < data.data.length; x++) {
                            html += ` <li class="nav-item m-1">
                                                                                                        <a class="btn btn-warning" href="`+ data.data[x].value + `" role="button">` + data.data[x].text + `</a>
                                                                                                    </li>`;
                        }

                    }
                    $('#sideNav').children('ul').append(html);
                },
                error: function (data) {

                }
            });
            //}

        })
    </script>
    <script>
        $(function () {
            var url = window.location.pathname;
            if (!url.includes("PurchaseOrder")) {
                localStorage.setItem("PurchaseOrder", "2");
            }
            if (!url.includes("SalesOrder")) {
                localStorage.setItem("SalesOrder", "2");
            }
        })

    </script>

    <script>
        $(document).keypress(function (e) {
            if (e.target.tagName != "TEXTAREA")
                if (e.keyCode == 13) {
                    e.preventDefault();
                }

        })

                                                                        //$('textarea').keypress(function (e) {
                                                                        //    if (e.keyCode == 13) {
                                                                        //        $(this).val($(this).val() + "\n");
                                                                        //    }
                                                                        //})
    </script>

</body>
